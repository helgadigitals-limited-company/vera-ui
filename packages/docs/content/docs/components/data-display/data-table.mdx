---
title: DataTable
description: A powerful and flexible data table component with sorting, filtering, pagination, selection, and actions
---

import { Callout } from "fumadocs-ui/components/callout"

# DataTable

A feature-rich data table component that provides advanced functionality for displaying and interacting with tabular data. Includes built-in support for sorting, filtering, pagination, row selection, custom actions, and responsive design.

## Installation

```bash npm2yarn
npm install @helgadigitals/vera-ui lucide-react
```

## Basic Usage

```tsx
import { DataTable } from "@helgadigitals/vera-ui";

const users = [
  { id: 1, name: "John Doe", email: "john@example.com", role: "Admin", status: "Active" },
  { id: 2, name: "Jane Smith", email: "jane@example.com", role: "User", status: "Inactive" },
  { id: 3, name: "Bob Johnson", email: "bob@example.com", role: "Editor", status: "Active" }
];

function UsersTable() {
  return (
    <DataTable
      tableData={users}
      tableColumns={['name', 'email', 'role', 'status']}
    />
  );
}
```

## Features

### Sorting

Enable sorting on specific columns:

```tsx
<DataTable
  tableData={users}
  tableColumns={['name', 'email', 'role', 'status']}
  sortableColumns={['name', 'email', 'role']}
  multiSort={true}
  defaultSortState={[{ key: 'name', direction: 'asc' }]}
/>
```

### Global Search

Add a global search filter:

```tsx
<DataTable
  tableData={users}
  tableColumns={['name', 'email', 'role', 'status']}
  enableGlobalFilter={true}
  globalFilterPlaceholder="Search users..."
/>
```

### Row Selection

Enable single or multiple row selection:

```tsx
function SelectableTable() {
  const [selectedRows, setSelectedRows] = useState<Array<string | number>>([]);

  return (
    <DataTable
      tableData={users}
      tableColumns={['name', 'email', 'role', 'status']}
      selectable={true}
      selectionMode="multiple"
      selectedRowIds={selectedRows}
      onSelectionChange={setSelectedRows}
      maxSelections={5}
      onMaxSelectionsReached={(id) => {
        console.log(`Maximum selections reached. Attempted to select: ${id}`);
      }}
    />
  );
}
```

### Custom Actions

Add action buttons for each row:

```tsx
import { Edit, Trash2, Eye } from "lucide-react";

const actions = [
  {
    id: "view",
    label: "View",
    icon: <Eye className="h-4 w-4" />,
    onClick: (row) => console.log("View", row),
  },
  {
    id: "edit",
    label: "Edit",
    icon: <Edit className="h-4 w-4" />,
    onClick: (row) => console.log("Edit", row),
  },
  {
    id: "delete",
    label: "Delete",
    icon: <Trash2 className="h-4 w-4" />,
    onClick: (row) => console.log("Delete", row),
    variant: "destructive",
    disabled: (row) => row.role === "Admin",
  },
];

<DataTable
  tableData={users}
  tableColumns={['name', 'email', 'role', 'status']}
  actions={actions}
  actionsPlacement="end"
/>
```

### Custom Cell Rendering

Customize how data is displayed:

```tsx
<DataTable
  tableData={users}
  tableColumns={['name', 'email', 'role', 'status']}
  customBodyRender={(rowData, column) => {
    if (column === 'status') {
      return (
        <Badge variant={rowData.status === 'Active' ? 'success' : 'secondary'}>
          {rowData.status}
        </Badge>
      );
    }
    if (column === 'email') {
      return <a href={`mailto:${rowData.email}`}>{rowData.email}</a>;
    }
    return null; // Use default rendering
  }}
  customHeadRender={(column, helpers) => {
    if (column === 'status') {
      return <span className="font-bold text-primary">Status</span>;
    }
    return null; // Use default rendering
  }}
/>
```

### Loading and Empty States

Handle loading and empty data states:

```tsx
<DataTable
  tableData={users}
  tableColumns={['name', 'email', 'role', 'status']}
  loading={isLoading}
  loadingComponent={<div className="p-4">Loading users...</div>}
  emptyMessage="No users found"
  emptyStateComponent={
    <div className="text-center p-8">
      <p>No users available</p>
      <Button onClick={handleAddUser}>Add First User</Button>
    </div>
  }
/>
```

## Advanced Usage

### Complete Feature Example

```tsx
import { DataTable, Badge, Button } from "@helgadigitals/vera-ui";
import { Edit, Trash2, Eye, Plus } from "lucide-react";
import { useState, useMemo } from "react";

function AdvancedUsersTable() {
  const [users, setUsers] = useState([
    { id: 1, name: "John Doe", email: "john@example.com", role: "Admin", status: "Active", lastLogin: "2024-01-15" },
    { id: 2, name: "Jane Smith", email: "jane@example.com", role: "User", status: "Inactive", lastLogin: "2024-01-10" },
    // ... more users
  ]);

  const [selectedRows, setSelectedRows] = useState<Array<string | number>>([]);
  const [sortState, setSortState] = useState([{ key: 'name', direction: 'asc' as const }]);
  const [globalFilter, setGlobalFilter] = useState("");
  const [columnFilters, setColumnFilters] = useState({});

  const actions = useMemo(() => [
    {
      id: "view",
      label: "View Details",
      icon: <Eye className="h-4 w-4" />,
      onClick: (row) => handleViewUser(row),
    },
    {
      id: "edit",
      label: "Edit User",
      icon: <Edit className="h-4 w-4" />,
      onClick: (row) => handleEditUser(row),
    },
    {
      id: "delete",
      label: "Delete User",
      icon: <Trash2 className="h-4 w-4" />,
      onClick: (row) => handleDeleteUser(row),
      variant: "destructive",
      disabled: (row) => row.role === "Admin",
      hidden: (row) => row.status === "Inactive",
    },
  ], []);

  const handleBulkAction = () => {
    console.log("Bulk action for:", selectedRows);
  };

  return (
    <div className="space-y-4">
      {/* Header with actions */}
      <div className="flex justify-between items-center">
        <h2 className="text-2xl font-bold">Users Management</h2>
        <div className="flex gap-2">
          {selectedRows.length > 0 && (
            <Button onClick={handleBulkAction} variant="outline">
              Bulk Action ({selectedRows.length})
            </Button>
          )}
          <Button onClick={handleAddUser}>
            <Plus className="h-4 w-4 mr-2" />
            Add User
          </Button>
        </div>
      </div>

      {/* Advanced DataTable */}
      <DataTable
        tableData={users}
        tableColumns={['name', 'email', 'role', 'status', 'lastLogin']}
        excludeColumns={['id']}
        
        // Sorting
        sortableColumns={['name', 'email', 'role', 'lastLogin']}
        multiSort={true}
        sortState={sortState}
        onSortChange={setSortState}
        
        // Filtering
        enableGlobalFilter={true}
        globalFilter={globalFilter}
        onGlobalFilterChange={setGlobalFilter}
        globalFilterPlaceholder="Search users by name, email, or role..."
        filterableColumns={['role', 'status']}
        columnFilters={columnFilters}
        onColumnFiltersChange={setColumnFilters}
        
        // Selection
        selectable={true}
        selectionMode="multiple"
        selectedRowIds={selectedRows}
        onSelectionChange={setSelectedRows}
        maxSelections={10}
        onMaxSelectionsReached={(id) => {
          toast.warning("Maximum 10 users can be selected at once");
        }}
        
        // Actions
        actions={actions}
        actionsPlacement="end"
        actionsColumnHeader="Actions"
        
        // Custom rendering
        customBodyRender={(rowData, column) => {
          switch (column) {
            case 'status':
              return (
                <Badge 
                  variant={rowData.status === 'Active' ? 'success' : 'secondary'}
                >
                  {rowData.status}
                </Badge>
              );
            case 'role':
              return (
                <Badge 
                  variant={rowData.role === 'Admin' ? 'destructive' : 'outline'}
                >
                  {rowData.role}
                </Badge>
              );
            case 'email':
              return (
                <a 
                  href={`mailto:${rowData.email}`}
                  className="text-primary hover:underline"
                >
                  {rowData.email}
                </a>
              );
            case 'lastLogin':
              return new Date(rowData.lastLogin).toLocaleDateString();
            default:
              return null;
          }
        }}
        
        // Row interactions
        onRowClick={(row) => console.log("Row clicked:", row)}
        rowClassName={(row) => 
          row.status === 'Inactive' ? 'opacity-60' : ''
        }
        
        // Styling
        className="border rounded-lg"
        
        // Loading states
        loading={false}
        emptyMessage="No users found matching your criteria"
        emptyStateComponent={
          <div className="text-center py-12">
            <h3 className="text-lg font-semibold mb-2">No Users Found</h3>
            <p className="text-muted-foreground mb-4">
              Get started by adding your first user.
            </p>
            <Button onClick={handleAddUser}>
              <Plus className="h-4 w-4 mr-2" />
              Add First User
            </Button>
          </div>
        }
      />
    </div>
  );
}
```

## Props Reference

### Core Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `tableData` | `T[]` | - | Array of data objects to display |
| `tableColumns` | `StringKeys<T>[]` | - | Column keys to display from data |
| `excludeColumns` | `StringKeys<T>[]` | - | Column keys to exclude from display |
| `className` | `string` | - | Additional CSS classes |
| `rowClassName` | `string \| ((row: T) => string)` | - | CSS classes for rows |
| `loading` | `boolean` | `false` | Show loading state |
| `loadingComponent` | `ReactNode` | - | Custom loading component |
| `emptyStateComponent` | `ReactNode` | - | Custom empty state component |
| `emptyMessage` | `string` | - | Empty state message |

### Selection Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `selectable` | `boolean` | `false` | Enable row selection |
| `selectionMode` | `"single" \| "multiple"` | `"multiple"` | Selection mode |
| `selectedRowIds` | `Array<string \| number>` | - | Controlled selected row IDs |
| `onSelectionChange` | `(ids: Array<string \| number>) => void` | - | Selection change handler |
| `maxSelections` | `number` | - | Maximum selections allowed |
| `onMaxSelectionsReached` | `(id: string \| number) => void` | - | Max selections callback |
| `selectionColumnHeader` | `ReactNode` | - | Custom selection column header |

### Sorting Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `sortableColumns` | `StringKeys<T>[]` | - | Columns that can be sorted |
| `multiSort` | `boolean` | `false` | Enable multiple column sorting |
| `sortState` | `Array<{key: StringKeys<T>, direction: "asc" \| "desc"}>` | - | Controlled sort state |
| `defaultSortState` | `Array<{key: StringKeys<T>, direction: "asc" \| "desc"}>` | - | Default sort state |
| `onSortChange` | `(state) => void` | - | Sort change handler |
| `sortFns` | `Partial<Record<StringKeys<T>, (a, b) => number>>` | - | Custom sort functions |
| `manualSort` | `boolean` | `false` | Disable automatic sorting |

### Filtering Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `enableGlobalFilter` | `boolean` | `false` | Enable global search |
| `globalFilter` | `string` | - | Controlled global filter value |
| `onGlobalFilterChange` | `(value: string) => void` | - | Global filter change handler |
| `globalFilterPlaceholder` | `string` | - | Global filter input placeholder |
| `globalFilterFn` | `(row: T, searchTerm: string) => boolean` | - | Custom global filter function |
| `filterableColumns` | `StringKeys<T>[]` | - | Columns that can be filtered |
| `columnFilters` | `Partial<Record<StringKeys<T>, string>>` | - | Controlled column filters |
| `onColumnFiltersChange` | `(filters) => void` | - | Column filters change handler |

### Actions Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `actions` | `TableAction<T>[]` | - | Array of action configurations |
| `actionsRender` | `(row: T) => ReactNode` | - | Custom actions render function |
| `actionsColumnHeader` | `ReactNode` | - | Custom actions column header |
| `actionsPlacement` | `"start" \| "end"` | `"end"` | Actions column placement |

### Custom Rendering Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `customHeadRender` | `(col, helpers?) => ReactNode` | - | Custom header cell renderer |
| `customBodyRender` | `(rowData, col) => ReactNode` | - | Custom body cell renderer |
| `onRowClick` | `(rowData: T) => void` | - | Row click handler |
| `getRowId` | `(row: T, index: number) => string \| number` | - | Custom row ID function |

## TableAction Interface

```tsx
interface TableAction<T> {
  id: string;                           // Unique action identifier
  label?: string;                       // Action label (for tooltips)
  icon?: ReactNode;                     // Action icon
  onClick: (row: T) => void;           // Click handler
  variant?: string;                     // Button variant
  disabled?: (row: T) => boolean;      // Dynamic disable condition
  hidden?: (row: T) => boolean;        // Dynamic visibility condition
}
```

## Utility Functions

The DataTable component works with several utility functions:

```tsx
import { transformToSelectOptions, splitStringByUnderscore } from "@helgadigitals/vera-ui";

// Transform data for select options
const options = transformToSelectOptions(users, 'name', 'id');

// Format column headers
const formattedHeader = splitStringByUnderscore('user_name'); // "user name"
```

## Best Practices

<Callout type="info">
**Performance**: For large datasets (>1000 rows), consider implementing server-side pagination, sorting, and filtering.
</Callout>

<Callout type="warning">
**Row Identity**: Always provide a `getRowId` function or ensure your data has unique `id` fields for proper selection and updates.
</Callout>

### Recommended Patterns

1. **Controlled vs Uncontrolled**: Use controlled components for complex state management
2. **Custom Rendering**: Use `customBodyRender` for consistent formatting across your app
3. **Action Patterns**: Group related actions and use consistent iconography
4. **Loading States**: Always provide loading and empty states for better UX
5. **Responsive Design**: Consider mobile layouts for complex tables

### Accessibility

- All interactive elements are keyboard accessible
- Screen reader support with proper ARIA labels
- High contrast mode compatibility
- Focus management for table navigation

## Examples

See the complete examples in the [Examples section](/docs/examples) for more advanced usage patterns and real-world implementations.
