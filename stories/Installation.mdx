# Installation

## 1. Install Package + Peers

Using pnpm (recommended):

```bash
pnpm add @helgadigitals/vera-ui react react-dom @tanstack/react-table react-hook-form zod date-fns
# optional if you use router-bound components:
pnpm add react-router-dom
```

Yarn:

```bash
yarn add @helgadigitals/vera-ui react react-dom @tanstack/react-table react-hook-form zod date-fns
```

NPM:

```bash
npm i @helgadigitals/vera-ui react react-dom @tanstack/react-table react-hook-form zod date-fns
```

### Verify Single React

```bash
pnpm ls react
```
Should show exactly one version. If multiple: `pnpm dedupe` or align versions.

## 2. Tailwind Setup

Add package to `content` so purge includes its class usage.

```css
@tailwind tailwind;
```

If using Tailwind v4 (oxide) ensure you follow new config shape‚Äîjust include the same paths.

## 3. Import Base Styles

The build emits a single CSS file (`vera-ui.css`). Import once (before your app styles if you want overrides later).

```css
/* src/styles/globals.css */
@import "@helgadigitals/vera-ui/styles";
@tailwind tailwind;
```

Or in a Next.js `_app.tsx`:

```tsx
import "@helgadigitals/vera-ui/styles"
import "@/styles/globals.css"
```

## 4. Providers

Theme + color mode:

```tsx
import { ThemeProvider } from "@helgadigitals/vera-ui"

export function AppProviders({ children }: { children: React.ReactNode }) {
  return (
    <ThemeProvider
      defaultTheme="system"
      storageKey="vera-ui-theme"
      disableTransitionOnChange
    >
      {children}
    </ThemeProvider>
  )
}
```

Optional: Layout / Sidebar theming per subtree:

```tsx
import { SidebarProvider } from "@helgadigitals/vera-ui"

<SidebarProvider
  theme={{
    bgColor: "bg-neutral-900",
    textColor: "text-neutral-100",
    widthClass: "w-64"
  }}
>
  {/* content */}
</SidebarProvider>
```

## 5. Basic Usage

```tsx
import { Button } from "@helgadigitals/vera-ui"

export function Example() {
  return <Button variant="default">Click me</Button>
}
```

## 6. Sidebar Example

```tsx
import {
  SidebarProvider,
  SidebarTrigger
} from "@helgadigitals/vera-ui"
import { ReusableSidebar } from "@helgadigitals/vera-ui/sidebar" // adjust if re-exported

const items = [
  { title: "Home", path: "/", icon: () => <span>üè†</span> },
  { title: "Reports", path: "/reports", icon: () => <span>üìä</span> },
]

export function Layout({ children }: { children: React.ReactNode }) {
  return (
    <SidebarProvider
      theme={{
        bgColor: "bg-zinc-950",
        textColor: "text-zinc-100",
        menuButtonActive: "bg-zinc-800/50",
      }}
    >
      {/* ReusableSidebar renders navigation etc. */}
      <SidebarTrigger className="m-2" />
      <main>{children}</main>
    </SidebarProvider>
  )
}
```

## 7. Form + Validation

```tsx
import { z } from "zod"
import { useForm } from "react-hook-form"
import { zodResolver } from "@hookform/resolvers/zod"
import { Input, Button } from "@helgadigitals/vera-ui"

const schema = z.object({ email: z.string().email() })
type Values = z.infer<typeof schema>

export function EmailForm() {
  const { register, handleSubmit, formState: { errors } } =
    useForm<Values>({ resolver: zodResolver(schema) })

  return (
    <form onSubmit={handleSubmit(v => console.log(v))} className="space-y-4">
      <div>
        <Input type="email" placeholder="Email" {...register("email")} />
        {errors.email && <p className="text-red-500 text-xs">{errors.email.message}</p>}
      </div>
      <Button type="submit">Submit</Button>
    </form>
  )
}
```

## 8. Table Integration (@tanstack/react-table)

```tsx
import { useReactTable, getCoreRowModel } from "@tanstack/react-table"
import { Table, TableHead, TableRow, TableBody, TableCell } from "@helgadigitals/vera-ui" // assuming exports
```
(Implement per your table wrapper docs.)

## 9. Next.js Notes

Add transpile (if needed for older Next versions):

```js
// next.config.js
module.exports = {
  transpilePackages: ["@helgadigitals/vera-ui"]
}
```

## 10. Vite / Plain React

Works out of the box. If aliasing `@` internally avoid collision with your app alias.

## 11. Local Development (Monorepo or Linking)

Preferred: `pnpm` workspace.

```json
// root package.json
{
  "workspaces": ["apps/*", "packages/*"]
}
```

Consumer package.json:

```json
"dependencies": {
  "@helgadigitals/vera-ui": "workspace:*"
}
```

Ad-hoc local test:

```bash
pnpm pack   # creates tarball
cd ../consumer
pnpm add ../vera-ui/@helgadigitals-vera-ui-<version>.tgz
```

Avoid plain `pnpm link` if you need strict peer resolution; `file:` or workspace is more deterministic.

## 12. Theming / Tokens

Override via:
- Provider `theme` prop (structural + class tokens)
- Per component `className`
- Tailwind layers for global overrides
- CSS cascade (import your custom utilities after library styles)

## 13. Troubleshooting

| Issue | Action |
| ----- | ------ |
| Invalid hook call | Single React copy; check peers installed |
| Missing styles | Confirm CSS import + Tailwind content path |
| Types missing | Ensure `types` export path resolves; delete `node_modules` + reinstall |
| Sidebar mobile crash | Ensure `react`, `react-dom` not duplicated |
| Icons missing | Install `lucide-react` if you use icon components expecting it |

Diagnostics:

```bash
pnpm ls react react-dom @tanstack/react-table react-hook-form zod date-fns
```

## 14. Version Ranges

Keep peer versions aligned with library‚Äôs `peerDependencies`. Upgrade React first in your app, then update the library.

## 15. Uninstall

```bash
pnpm remove @helgadigitals/vera-ui
```

---

Proceed to:
- [Introduction](?path=/docs/documentation-introduction--docs)
- [Contributing](?path=/docs/documentation-contributing--docs)